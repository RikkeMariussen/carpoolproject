<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="UTF-8">
    <title>ForsideCarpool</title>
    <link rel="stylesheet" href="../CSS/style.css"/>
</head>
<body>
<header>
    <div class="banner">
        <img src="../Images/carpool_topbanner.jpg"/>
    </div>

</header>

<form id="dynamicForm">
    <div class="main-box">
        <!-- Radio group for Chauffeur or Passenger -->
        <div class="radio-group sub-box">
            <label>
                <input type="radio" name="type" value="chauffeur" required> Chauffør
            </label>
            <label>
                <input type="radio" name="type" value="passenger" required> Passager
            </label>
        </div>

        <!-- Radio group for Oneway or Return trip -->
        <div class="radio-group sub-box">
            <label>
                <input type="radio" name="travel" value="oneway" required> Enkelt tur
            </label>
            <label>
                <input type="radio" name="travel" value="return" required> Tur/Retur
            </label>
        </div>

        <!-- Button container -->
        <div class="button-container">
            <!-- Tilbage button - no validation -->
            <button type="button" onclick="goBack()">Tilbage</button>

            <!-- Næste button - requires validation -->
            <button type="submit" id="nesteButton">Næste</button>
        </div>
    </div>
</form>

<script>
    // JavaScript function for the "Tilbage" button
    function goBack() {
        window.location.href = 'index.html';  // Redirect to index.html
    }

    // Handle form submission for "Næste" button
    document.getElementById('dynamicForm').addEventListener('submit', function(event) {
        // Prevent the default form submission behavior
        event.preventDefault();

        // Get the selected values from radio buttons
        const type = document.querySelector('input[name="type"]:checked');
        const travel = document.querySelector('input[name="travel"]:checked');

        // Ensure both radio groups are selected
        if (!type || !travel) {
            alert('Please select both Chauffeur/Passager and Enkelt Tur/Tur/Retur.');
            return;  // Stop form submission if validation fails
        }

        // Logic to determine which page to go to based on selection
        let actionURL = '';
        if (type.value === 'chauffeur' && travel.value === 'oneway') {
            actionURL = 'chauffeur_oneway.html';
        } else if (type.value === 'chauffeur' && travel.value === 'return') {
            actionURL = 'chauffeur_return.html';
        } else if (type.value === 'passenger' && travel.value === 'oneway') {
            actionURL = 'passenger_oneway.html';
        } else if (type.value === 'passenger' && travel.value === 'return') {
            actionURL = 'side3.html';
        }

        // Set the form's action to the correct URL
        this.action = actionURL;

        // Now submit the form
        this.submit();
    });
</script>


</body>
</html>